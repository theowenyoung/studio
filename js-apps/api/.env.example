# ==============================================
# 1. 源变量 (Raw Sources)
# 约定：留空 = 必须从 AWS Parameter Store 拉取
# ==============================================

# 数据库凭证 (AWS 存)
POSTGRES_APP_USER=
POSTGRES_APP_USER_PASSWORD=



# Redis 凭证 (AWS 存)
REDIS_PASSWORD=

# ==============================================
# 2. 计算变量 (Computed Logic)
# ==============================================

# Host 配置
DB_HOST=${CTX_PG_HOST:-localhost}
REDIS_HOST=${CTX_REDIS_HOST:-localhost}

# 数据库名（带分支后缀）
POSTGRES_DB=api_demo${CTX_DB_SUFFIX:-}

# 服务 URL（使用目录名作为子域名，双中划线分隔）
# Local:   https://api.studio.localhost
# Preview: https://api--feat-test.preview.owenyoung.com
# Prod:    https://api.owenyoung.com
APP_URL=https://api-demo${CTX_DNS_SUFFIX:-}.${CTX_ROOT_DOMAIN:-studio.localhost}

# 连接字符串
DATABASE_URL=postgresql://${POSTGRES_APP_USER}:${POSTGRES_APP_USER_PASSWORD}@${DB_HOST}:5432/${POSTGRES_DB}
REDIS_URL=redis://default:${REDIS_PASSWORD}@${REDIS_HOST}:6379
