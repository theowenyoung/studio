# 生产环境 - 高可用双节点
[production]
prodowen1 ansible_user=deploy
# prod2 ansible_user=deploy

# PR/测试环境 - 独立服务器
[staging] 
# staging ansible_user=deploy

[all:vars]
timezone = "UTC"
# deploy 用户配置
admin_user_name=deploy
admin_user_shell=/bin/bash
admin_user_groups=sudo
# 允许 deploy 用户无密码使用 sudo
admin_user_sudo_nopasswd=true

# github
github_username = theowenyoung

[production:vars]
environment=production

[staging:vars]

[defaults]
# 默认使用 production，可通过 -i 参数覆盖
inventory = inventory/production/hosts.yml
host_key_checking = False
roles_path = ~/.ansible/roles
stdout_callback = yaml
callback_whitelist = profile_tasks, timer
interpreter_python = auto_silent
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible-facts
fact_caching_timeout = 3600

[privilege_escalation]
become = True
become_method = sudo
become_ask_pass = False

[ssh_connection]
pipelining = True
control_path = /tmp/ansible-%%h-%%p-%%r
